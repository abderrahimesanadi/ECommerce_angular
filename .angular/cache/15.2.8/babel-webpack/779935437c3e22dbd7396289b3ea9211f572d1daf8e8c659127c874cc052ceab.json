{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../product.service\";\nimport * as i2 from \"../order.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nexport class OrderComponent {\n  constructor(productService, orderService, location, route) {\n    this.productService = productService;\n    this.orderService = orderService;\n    this.location = location;\n    this.route = route;\n    this.email = '';\n    this.password = '';\n    this.firstName = '';\n    this.lastName = '';\n    this.adresse = '';\n    this.order = '';\n  }\n  validateOrder(firstName, lastName, email, password, adresse) {\n    //alert(adresse);\n    const productId = this.route.snapshot.paramMap.get('id');\n    this.productService.registerTo(email, password, firstName, lastName).subscribe(user => {\n      this.user = user;\n      console.log(user);\n      if (user.token != undefined) {\n        this.orderService.validateOrder(productId, user.token, adresse).subscribe(order => {\n          this.order = order;\n          console.log(\"order\");\n          console.log(order);\n        });\n      } else {\n        this.location.back();\n      }\n    });\n  }\n}\nOrderComponent.ɵfac = function OrderComponent_Factory(t) {\n  return new (t || OrderComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\nOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderComponent,\n  selectors: [[\"app-order\"]],\n  decls: 40,\n  vars: 5,\n  consts: [[\"id\", \"register\", 1, \"container\", \"mt-5\", \"border\", \"border-success\", \"bg-light\", \"rounded\", \"p-2\", \"clearfix\"], [1, \"bg-light\", \"p-3\"], [1, \"text-center\"], [1, \"row\"], [1, \"col-6\"], [\"for\", \"firstName\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", \"placeholder\", \"Votre Pr\\u00E9nom\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", \"placeholder\", \"Votre Nom\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"user.password\", \"placeholder\", \"Mot de pass\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"m-0\"], [\"name\", \"adresse\", \"id\", \"adresse\", \"cols\", \"20\", \"rows\", \"4\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-check\"], [\"name\", \"registration_form[agreeTerms]\", \"type\", \"checkbox\", \"value\", \"\", \"id\", \"registration_form_agreeTerms\", \"required\", \"required\", 1, \"form-check-input\"], [\"for\", \"registration_form_agreeTerms\", 1, \"form-check-label\"], [\"href\", \"/conditions-d-utilisation\"], [1, \"invalid-feedback\"], [1, \"btn\", \"btn-success\", \"mt-2\", 3, \"click\"], [1, \"text-primary\", \"mt-2\"], [\"routerLink\", \"login\"]],\n  template: function OrderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n      i0.ɵɵtext(3, \"Inscrivez-vous pour compl\\u00E9ter votre commande \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Pr\\u00E9nom:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.firstName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Nom:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.lastName = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 3)(14, \"div\", 4)(15, \"label\", 9);\n      i0.ɵɵtext(16, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 4)(19, \"label\", 11);\n      i0.ɵɵtext(20, \"Mot de pass:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\");\n      i0.ɵɵtext(24, \"Adresse de livraison :\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 13)(26, \"textarea\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderComponent_Template_textarea_ngModelChange_26_listener($event) {\n        return ctx.adresse = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 15);\n      i0.ɵɵelement(28, \"input\", 16);\n      i0.ɵɵelementStart(29, \"label\", 17);\n      i0.ɵɵtext(30, \"J' accept les \");\n      i0.ɵɵelementStart(31, \"a\", 18);\n      i0.ɵɵtext(32, \"terms et conditions d\\\\'utilisation\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"div\", 19);\n      i0.ɵɵtext(34, \"You must agree before submitting.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function OrderComponent_Template_button_click_35_listener() {\n        return ctx.validateOrder(ctx.firstName, ctx.lastName, ctx.email, ctx.password, ctx.adresse);\n      });\n      i0.ɵɵtext(36, \"Valider la commande\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 21)(38, \"a\", 22);\n      i0.ɵɵtext(39, \"Vous avez un compte ? Connectez-vous\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.firstName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.lastName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.adresse);\n    }\n  },\n  dependencies: [i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAYA,OAAM,MAAOA,cAAc;EASzBC,YAAoBC,cAA8B,EAAUC,YAA0B,EAC5EC,QAAkB,EAAUC,KAAqB;IADvC,mBAAc,GAAdH,cAAc;IAA0B,iBAAY,GAAZC,YAAY;IAC9D,aAAQ,GAARC,QAAQ;IAAoB,UAAK,GAALC,KAAK;IAT3C,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAW,EAAE;IACrB,cAAS,GAAW,EAAE;IACtB,aAAQ,GAAW,EAAE;IACrB,YAAO,GAAW,EAAE;IAEpB,UAAK,GAAW,EAAE;EAMlB;EAEAC,aAAa,CAACC,SAAiB,EAAEC,QAAgB,EAAEC,KAAa,EAAEC,QAAgB,EAAEC,OAAe;IAEjG;IACA,MAAMC,SAAS,GAAG,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAExD,IAAI,CAACb,cAAc,CAACc,UAAU,CAACP,KAAK,EAAEC,QAAQ,EAAEH,SAAS,EAAEC,QAAQ,CAAC,CACjES,SAAS,CAAEC,IAAI,IAAI;MAClB,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAIA,IAAI,CAACG,KAAK,IAAIC,SAAS,EAAE;QAC3B,IAAI,CAACnB,YAAY,CAACG,aAAa,CAACM,SAAS,EAAEM,IAAI,CAACG,KAAK,EAAEV,OAAO,CAAC,CAC5DM,SAAS,CAAEM,KAAK,IAAI;UACnB,IAAI,CAACA,KAAK,GAAGA,KAAK;UAClBJ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;UACpBD,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;QACpB,CAAC,CAAC;OACL,MAAM;QACL,IAAI,CAACnB,QAAQ,CAACoB,IAAI,EAAE;;IAExB,CAAC,CAAC;EACN;;AAnCWxB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ3BC,8BAA8F;MAEpEA,kEACxB;MAAAA,iBAAK;MAENA,8BAAiB;MAEQA,4BAAO;MAAAA,iBAAQ;MACtCA,gCAA8H;MAA1GA;QAAA;MAAA,EAAuB;MAA3CA,iBAA8H;MAE/HA,8BAAmB;MACIA,qBAAI;MAAAA,iBAAQ;MAClCA,iCAAwH;MAApGA;QAAA;MAAA,EAAsB;MAA1CA,iBAAwH;MAGvHA,+BAAiB;MAEMA,uBAAM;MAAAA,iBAAQ;MACxCA,kCAA2G;MAAvFA;QAAA;MAAA,EAAmB;MAAvCA,iBAA2G;MAE1GA,+BAAmB;MACSA,6BAAY;MAAAA,iBAAQ;MACjDA,kCAAiI;MAA1GA;QAAA;MAAA,EAAsB;MAA7CA,iBAAiI;MAG9HA,+BAAiB;MACLA,uCAAsB;MAAAA,iBAAQ;MAE1CA,gCAAqB;MACQA;QAAA;MAAA,EAAqB;MAAqDA,iBAAW;MAEpHA,gCAAwB;MACvBA,6BAAoJ;MACpJA,kCAAmE;MAAAA,+BAClE;MAAAA,8BAAoC;MAAAA,oDAAkC;MAAAA,iBAAI;MAE3EA,gCAA8B;MAAAA,kDAAiC;MAAAA,iBAAM;MAEtEA,mCAAwG;MAAhGA;QAAA,OAASC,oFAAwD;MAAA,EAAC;MAA8BD,oCAAmB;MAAAA,iBAAS;MACpIA,gCAA+B;MACPA,qDAAoC;MAAAA,iBAAI;;;MAhC3CA,eAAuB;MAAvBA,uCAAuB;MAIvBA,eAAsB;MAAtBA,sCAAsB;MAMxBA,eAAmB;MAAnBA,mCAAmB;MAIhBA,eAAsB;MAAtBA,sCAAsB;MAObA,eAAqB;MAArBA,qCAAqB","names":["OrderComponent","constructor","productService","orderService","location","route","validateOrder","firstName","lastName","email","password","adresse","productId","snapshot","paramMap","get","registerTo","subscribe","user","console","log","token","undefined","order","back","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/sanadi/app/Boutique-with-angular15/src/app/order/order.component.ts","/home/sanadi/app/Boutique-with-angular15/src/app/order/order.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ProductService } from '../product.service';\nimport { OrderService } from '../order.service';\nimport { Location } from '@angular/common';\nimport { User } from '../user';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.component.html',\n  styleUrls: ['./order.component.css']\n})\nexport class OrderComponent {\n  email: string = '';\n  password: string = '';\n  firstName: string = '';\n  lastName: string = '';\n  adresse: string = '';\n  user: User | undefined;\n  order: string = '';\n\n  constructor(private productService: ProductService, private orderService: OrderService,\n    private location: Location, private route: ActivatedRoute,\n\n  ) {\n  }\n\n  validateOrder(firstName: string, lastName: string, email: string, password: string, adresse: string): void {\n\n    //alert(adresse);\n    const productId = this.route.snapshot.paramMap.get('id');\n\n    this.productService.registerTo(email, password, firstName, lastName)\n      .subscribe((user) => {\n        this.user = user;\n        console.log(user);\n        if (user.token != undefined) {\n          this.orderService.validateOrder(productId, user.token, adresse)\n            .subscribe((order) => {\n              this.order = order;\n              console.log(\"order\");\n              console.log(order);\n            });\n        } else {\n          this.location.back();\n        }\n      });\n  }\n\n}\n","<div class=\"container mt-5 border border-success bg-light rounded p-2 clearfix\" id=\"register\">\n\t<div class=\"bg-light p-3\">\n\t\t<h3 class=\"text-center\">Inscrivez-vous pour compléter votre commande\n\t\t</h3>\n\t</div>\n\t<div class=\"row\">\n\t\t<div class=\"col-6\">\n\t\t\t<label for=\"firstName\">Prénom:</label>\n\t\t\t<input type=\"text\"  [(ngModel)]=\"firstName\" id=\"firstName\" name=\"firstName\" class=\"form-control\" placeholder=\"Votre Prénom\" />\n\t\t</div>\n\t\t<div class=\"col-6\">\n\t\t\t<label for=\"lastName\">Nom:</label>\n\t\t\t<input type=\"text\"  [(ngModel)]=\"lastName\" id=\"lastName\" name=\"lastName\" class=\"form-control\" placeholder=\"Votre Nom\" />\n\t\t</div>\n\t</div>\n    <div class=\"row\">\n\t\t<div class=\"col-6\">\n        <label for=\"email\">Email:</label>\n\t<input type=\"text\"  [(ngModel)]=\"email\" id=\"email\" name=\"email\" class=\"form-control\" placeholder=\"Email\" />\n    </div>\n\t\t<div class=\"col-6\">\n        <label for=\"password\">Mot de pass:</label>\n\t<input type=\"password\" [(ngModel)]=\"password\" id=\"password\" name=\"user.password\" class=\"form-control\" placeholder=\"Mot de pass\"/>\n    </div>\n    </div>\n    <div class=\"row\">\n        <label >Adresse de livraison :</label>\n    </div>\n    <div class=\"row m-0\">\n        <textarea name=\"adresse\" [(ngModel)]=\"adresse\" id=\"adresse\" class=\"form-control\"cols=\"20\" rows=\"4\"></textarea>\n    </div>\n\t\t<div class=\"form-check\">\n\t\t\t<input class=\"form-check-input\" name=\"registration_form[agreeTerms]\" type=\"checkbox\" value=\"\" id=\"registration_form_agreeTerms\" required=\"required\">\n\t\t\t<label class=\"form-check-label\" for=\"registration_form_agreeTerms\">J' accept les\n\t\t\t\t<a href=\"/conditions-d-utilisation\">terms et conditions d\\'utilisation</a>\n\t\t\t</label>\n\t\t\t<div class=\"invalid-feedback\">You must agree before submitting.</div>\n\t\t</div>\n\t\t<button (click)=\"validateOrder(firstName,lastName,email,password,adresse)\" class=\"btn btn-success mt-2\">Valider la commande</button>\n\t\t<div class=\"text-primary mt-2\">\n\t\t\t<a routerLink=\"login\" >Vous avez un compte ? Connectez-vous</a>\n\t\t</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}